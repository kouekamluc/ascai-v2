{% load i18n %}
{% for scholarship in scholarships %}
<div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition">
    <h3 class="text-xl font-semibold mb-2">
        <a href="{% url 'scholarships:detail' scholarship.slug %}" class="hover:text-blue-600">
            {{ scholarship.title }}
        </a>
    </h3>
    <p class="text-gray-600 mb-2">{{ scholarship.provider }}</p>
    {% if scholarship.amount %}
    <p class="text-blue-600 font-semibold mb-2">{{ scholarship.amount }} {{ scholarship.currency }}</p>
    {% endif %}
    <p class="text-gray-700 mb-4">{{ scholarship.description|truncatewords:25 }}</p>
    {% if scholarship.application_deadline %}
    <p class="text-sm text-gray-500">{% trans 'Deadline:' %} {{ scholarship.application_deadline|date:"d M Y" }}</p>
    {% endif %}
    {% if user.is_authenticated %}
    <form hx-post="{% url 'scholarships:toggle_save' scholarship.slug %}" hx-target="this" hx-swap="outerHTML" class="mt-4">
        {% csrf_token %}
        {% if scholarship.id in saved_scholarship_ids %}
        <button type="submit" class="text-red-600 hover:text-red-800">{% trans 'Remove' %}</button>
        {% else %}
        <button type="submit" class="text-blue-600 hover:text-blue-800">{% trans 'Save' %}</button>
        {% endif %}
    </form>
    {% endif %}
</div>
{% empty %}
<p>{% trans 'No scholarships found.' %}</p>
{% endfor %}

